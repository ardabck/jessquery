<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Do Method Test</title>
  </head>
  <body>
    <div id="testContainer"></div>
    <button class="testButton">Click Me</button>
    <button class="testButton">Click Me</button>

    <script type="module">
      import { $, $$ } from "../index.js"

      // async function doMethodTest() {
      //   const output = document.createElement("div")
      //   document.getElementById("testContainer").appendChild(output)

      //   $$(".testButton").do(async (el) => {
      //     // throw new Error("do method test FAILED")
      //     await new Promise((resolve, reject) => {
      //       setTimeout(() => {
      //         resolve()
      //       }, 1000)
      //     })

      //     el.style.color = "green"
      //     el.textContent = "do method test PASSED"

      //     // el.css({ color: "green" }).text("do method test PASSED")
      //   })
      // }

      // doMethodTest()

      async function nowMethodTest() {
        const output = document.createElement("div")
        document.getElementById("testContainer").appendChild(output)

        $(".testButton")
          .defer((el) => el.css({ color: "blue" }))
          .text("HALF A SECOND OF GLORY") // Text is black
          .wait(500)
          .css({ color: "red" })
          .text("Hello, world!") // Text is red
          .wait(500)
          .text("Goodbye, world!") // Text is blue
      }

      nowMethodTest()

      //     el.style.color = "green"
      //     el.textContent = "now method test PASSED"

      //     // el.css({ color: "green" }).text("do method test PASSED")
      //   })
      // }
    </script>
  </body>
</html>
